import{C as d,D as w,F as j,H as p,L as C,M as g,N as _,O as R,U as h,c as v,d as M,e as y,g as a,h as c,i as b,j as k,l as x,q as l,r as s,s as u,u as f}from"./chunk-5OR52EUV.js";var S=["modalContainer"];function W(n,T){}var V=["modalHostAnchor"];function I(n,T){}var O=(()=>{class n{elementRef;modalContainer;closeTriggered=new k;constructor(e){this.elementRef=e}clearContent(){this.modalContainer.clear()}injectContent(e){let t=this.modalContainer.createComponent(e.component);e.data&&Object.assign(t.instance,e.data)}closeModal(e){e&&e.target===e.currentTarget?this.closeTriggered.emit():e||this.closeTriggered.emit()}keyDownCloseModal(e){e.key==="Escape"&&(e.stopPropagation(),this.closeModal())}clicInsideModal(e){e.stopPropagation()}static \u0275fac=function(t){return new(t||n)(l(x))};static \u0275cmp=u({type:n,selectors:[["bee-modal-win-cont"]],viewQuery:function(t,o){if(t&1&&C(S,7,s),t&2){let i;g(i=_())&&(o.modalContainer=i.first)}},outputs:{closeTriggered:"closeTriggered"},decls:7,vars:0,consts:[["modalContainer",""],["role","dialog","tabindex","0",1,"modal-overlay",3,"click","keydown"],["role","document","tabindex","0",1,"modal-container",3,"click","keydown"],[1,"modal-close-button",3,"click"],[1,"modal-content"]],template:function(t,o){if(t&1){let i=j();d(0,"div",1),p("click",function(r){return a(i),c(o.closeModal(r))})("keydown",function(r){return a(i),c(o.keyDownCloseModal(r))}),d(1,"div",2),p("click",function(r){return a(i),c(o.clicInsideModal(r))})("keydown",function(r){return a(i),c(o.keyDownCloseModal(r))}),d(2,"button",3),p("click",function(){return a(i),c(o.closeModal())}),R(3,"X"),w(),d(4,"div",4),f(5,W,0,0,"ng-template",null,0,h),w()()()}},styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000c;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-container[_ngcontent-%COMP%]{position:relative;background:#fff;padding:20px;border-radius:8px;box-shadow:0 4px 6px #0000001a;z-index:1001}.modal-content[_ngcontent-%COMP%]{margin-top:25px}.modal-close-button[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;border:none;background:transparent;font-size:25px;cursor:pointer;margin-bottom:10px;color:#1a1a1a}.modal-close-button[_ngcontent-%COMP%]:hover{color:#da4747}"]})}return n})(),D=(()=>{class n{modalSubject=new M;modalState$=this.modalSubject.asObservable();open(e){this.modalSubject.next(e)}close(){this.modalSubject.next(null)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),q=(()=>{class n{viewContainerRef;injector;modalService;hostAnchor;containerRef=null;constructor(e,t,o){this.viewContainerRef=e,this.injector=t,this.modalService=o}ngOnInit(){this.modalService.modalState$.subscribe(e=>{this.clearDOMHost(),e&&this.renderRootModalWindowContainer(e)})}clearDOMHost(){this.hostAnchor.clear()}renderRootModalWindowContainer(e){return v(this,null,function*(){let t=this.hostAnchor.createComponent(O,{injector:this.injector});this.containerRef=t,yield Promise.resolve(),t.instance.closeTriggered.subscribe(()=>{this.hostAnchor.clear(),this.modalService.close()}),t.instance.clearContent(),t.instance.injectContent(e)})}static \u0275fac=function(t){return new(t||n)(l(s),l(b),l(D))};static \u0275cmp=u({type:n,selectors:[["bee-modal-window-host"]],viewQuery:function(t,o){if(t&1&&C(V,7,s),t&2){let i;g(i=_())&&(o.hostAnchor=i.first)}},decls:2,vars:0,consts:[["modalHostAnchor",""]],template:function(t,o){t&1&&f(0,I,0,0,"ng-template",null,0,h)},encapsulation:2})}return n})();export{D as a,q as b};
