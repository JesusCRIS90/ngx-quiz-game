import{c as F,d as V,e as Y,g as B}from"./chunk-RDP67BV4.js";import{b as x,c as R,d as M,f as L,g as O,h as D,i as $}from"./chunk-K54WLUOZ.js";import{A as S,B as f,C as n,D as r,E as Q,F as y,H as c,I as w,L as _,M as q,N as A,O as s,P as h,Q as m,S as P,T as I,W as E,da as b,g as d,h as C,ka as N,m as p,p as t,q as g,qa as k,s as v,v as a,z as T}from"./chunk-5OR52EUV.js";var j=["quizAnswer"];function U(l,o){if(l&1){let i=y();n(0,"quiz-answer",14,0),c("outAnswerState",function(u){d(i);let H=w();return C(H.userAnswer(u))}),r()}if(l&2){let i=o.$implicit,e=w();a("allowClick",e.allowAnswer())("answer",i)}}var z=class l{constructor(o,i){this.router=o;this.quizService=i}quizAnswerComponents;TIMER_STATE=F;PAIR_POLICY=x;allowAnswer=p(!0);allowNextQuestion=p(!1);timerState=p(1);updateTimerState=E(()=>this.timerState());userAnswer(o){o===1?this.quizService.correctAnswer():this.quizService.wrongAnswer(),this.allowAnswer.set(!1),this.allowNextQuestion.set(!0)}nextQuestion(){if(this.quizService.isLastQuestion()){this.router.navigate(["/results"]);return}this.allowNextQuestion()!==!1&&(this.quizService.nextQuestion(),this.allowAnswer.set(!0),this.allowNextQuestion.set(!1),this.resetAllAnswers())}calculateQuizTime(){return k(N,this.quizService.getTotalQuestions())}resetAllAnswers(){this.quizAnswerComponents.forEach(o=>{o.resetClassNames()})}timerOut(){this.router.navigate(["/results"])}getCategory(){return this.quizService.getQuestionCategory()}getDifficulty(){return this.quizService.getQuestionDifficulty()}getCurrentQuestion(){return this.quizService.getCurrentQuestion()}getTotalQuestions(){return this.quizService.getTotalQuestions()}getCurrentPoints(){return this.quizService.getCurrentPoints()}getTotalPoints(){return this.quizService.getTotalPoints()}getQuestion(){return this.quizService.getQuestionText()}getAnswers(){return this.quizService.getAnswers()}static \u0275fac=function(i){return new(i||l)(g(b),g($))};static \u0275cmp=v({type:l,selectors:[["main-quiz-page"]],viewQuery:function(i,e){if(i&1&&_(j,5),i&2){let u;q(u=A())&&(e.quizAnswerComponents=u)}},decls:25,vars:16,consts:[["quizAnswer",""],[3,"width"],[1,"quiz-game-page"],[1,"quiz-progress"],[3,"gap"],[1,"quiz-category"],[1,"quiz-difficulty"],[3,"max","value"],[1,"quiz-resume",3,"pairDistribution"],[1,"quiz-question"],[1,"quiz-answer",3,"allowClick","answer"],[1,"quiz-controls",3,"pairDistribution"],[1,"quiz-timer",3,"timeout","setTime","setStateTimer"],[1,"btn-next",3,"click"],[1,"quiz-answer",3,"outAnswerState","allowClick","answer"]],template:function(i,e){i&1&&(n(0,"bee-center-layout")(1,"bee-fixed-width-layout",1)(2,"bee-vertical-layout",2)(3,"div",3)(4,"bee-horizontal-layout",4)(5,"p",5),s(6),r(),n(7,"p",6),s(8),r()(),Q(9,"progress",7),n(10,"bee-pair-layout",8)(11,"span"),s(12),r(),n(13,"span"),s(14),r()()(),n(15,"p",9),s(16),P(17,"htmlDecode"),r(),n(18,"bee-vertical-layout",4),S(19,U,2,2,"quiz-answer",10,T),r(),n(21,"bee-pair-layout",11)(22,"quiz-timer",12),c("timeout",function(){return e.timerOut()}),r(),n(23,"button",13),c("click",function(){return e.nextQuestion()}),s(24,"Next"),r()()()()()),i&2&&(t(),a("width",700),t(3),a("gap",50),t(2),m(" ",e.getCategory()," "),t(2),m(" ",e.getDifficulty()," "),t(),a("max",e.getTotalQuestions())("value",e.getCurrentQuestion()),t(),a("pairDistribution",e.PAIR_POLICY.OPPOSITE),t(2),m(" ",`Questions ${e.getCurrentQuestion()}/${e.getTotalQuestions()}`," "),t(2),m(" ",`Points ${e.getCurrentPoints()}/${e.getTotalPoints()}`," "),t(2),h(I(17,14,e.getQuestion())),t(2),a("gap",15),t(),f(e.getAnswers()),t(2),a("pairDistribution",e.PAIR_POLICY.OPPOSITE),t(),a("setTime",e.calculateQuizTime())("setStateTimer",e.TIMER_STATE.START))},dependencies:[Y,V,D,L,O,M,B,R],encapsulation:2})};export{z as default};
